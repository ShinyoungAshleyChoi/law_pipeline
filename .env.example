# ==============================================
# 법제처 데이터 파이프라인 환경 변수 설정 템플릿
# ==============================================
# 이 파일을 .env로 복사한 후 실제 값으로 수정하세요
# cp .env.example .env

# ----------------------------------------------
# 기본 환경 설정
# ----------------------------------------------
APP_ENVIRONMENT=development
APP_DEBUG=true
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=logs/legal_pipeline.log
LOG_MAX_FILE_SIZE=10MB
LOG_BACKUP_COUNT=5

# ----------------------------------------------
# 데이터베이스 설정 (Blue-Green 배포)
# ----------------------------------------------
# Blue 환경 DB
DB_BLUE_HOST=mysql-blue
DB_BLUE_PORT=3306

# Green 환경 DB  
DB_GREEN_HOST=mysql-green
DB_GREEN_PORT=3306

# 공통 DB 설정
DB_NAME=legal_db
DB_USER=legal_user
DB_PASSWORD=your_db_password_here
DB_ROOT_PASSWORD=your_root_password_here
DB_CHARSET=utf8mb4

# 현재 활성 DB 환경 (blue 또는 green)
ACTIVE_DB_ENV=blue

# ----------------------------------------------
# API 설정
# ----------------------------------------------
# Mock 환경 사용 여부
USE_MOCK_DATA=true
USE_MOCK_API=true
USE_MOCK_DB=true
MOCK_ENVIRONMENT=development
MOCK_DATA_COUNT=50
MOCK_API_DELAY=true
MOCK_API_ERROR_RATE=0.02
MOCK_DB_PATH=sample_data/mock_legal.db
MOCK_AUTO_REGENERATE=false
MOCK_LOGGING=true
MOCK_LOG_LEVEL=INFO
FORCE_REGENERATE_MOCK_DATA=false

# 실제 법제처 API
LEGAL_API_BASE_URL=https://open.law.go.kr/LSO/openApi
LEGAL_API_TIMEOUT=30
LEGAL_API_MAX_RETRIES=3
LEGAL_API_RETRY_DELAY=1

# ----------------------------------------------
# Kafka 설정
# ----------------------------------------------
# 내부 컨테이너 통신용
KAFKA_BOOTSTRAP_SERVERS=kafka1:29092,kafka2:29093,kafka3:29094

# 외부 접속용
KAFKA_BOOTSTRAP_SERVERS_EXTERNAL=localhost:9092,localhost:9093,localhost:9094

# Consumer 설정
KAFKA_CONSUMER_GROUP_ID=legal-data-consumer
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true

# ----------------------------------------------
# Redis 설정
# ----------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# ----------------------------------------------
# 슬랙 알림 설정
# ----------------------------------------------
# 주의: enable_notifications 설정은 config/notification.yaml에서 관리됩니다.
# 여기는 인증 정보만 관리합니다.

# Slack Bot Token (실제 값으로 교체 필요 - xoxb-로 시작)
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token-here

# Slack Channel ID (실제 값으로 교체 필요 - C로 시작)
SLACK_CHANNEL_ID=C1234567890

# Slack Webhook URL (선택사항)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ----------------------------------------------
# 모니터링 설정
# ----------------------------------------------
PROMETHEUS_URL=http://prometheus:9090
PROMETHEUS_PORT=9090
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here

# ----------------------------------------------
# 배치 작업 설정
# ----------------------------------------------
BATCH_SIZE=100
MAX_CONCURRENT_JOBS=3
MAX_WORKERS=4
JOB_TIMEOUT=3600
BATCH_TIMEOUT=300
BATCH_RETRY_COUNT=3

# ----------------------------------------------
# 보안 설정
# ----------------------------------------------
SECRET_KEY=your-secret-key-change-in-production
JWT_SECRET=your-jwt-secret-change-in-production
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
ENCRYPTION_KEY=your-encryption-key-32-characters!!

# ----------------------------------------------
# Airflow 설정
# ----------------------------------------------
AIRFLOW_UID=1000
AIRFLOW_ADMIN_USER=airflow
AIRFLOW_ADMIN_PASSWORD=your_airflow_password_here
AIRFLOW_DB_PASSWORD=your_airflow_db_password_here

# ----------------------------------------------
# 네트워크 설정
# ----------------------------------------------
# 외부 접속 포트
NGINX_PORT=80
GRAFANA_PORT=3000
KAFKA_UI_PORT=8080
AIRFLOW_PORT=8090

# Blue-Green 서비스 포트
BLUE_APP_PORT=8001
GREEN_APP_PORT=8002
DEPLOYMENT_API_PORT=9000

# ----------------------------------------------
# 개발/디버깅 설정
# ----------------------------------------------
DEBUG_SQL=false
DEBUG_KAFKA=false
DEBUG_API=false
ENABLE_PROFILING=false
PROFILING_SAMPLE_RATE=0.1

# 헬스체크 설정
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
